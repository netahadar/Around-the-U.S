!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.data,r=e.user,o=e.cardSelector,i=e.handleCardClick,a=e.handleDeleteCard,u=e.handleLikes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=n.name,this._image=n.link,this._cardId=n._id,this._ownerId=n.owner._id,this._userId=r,this._likes=n.likes,this._cardSelector=o,this._handleCardClick=i,this._handleDeleteCard=a,this._handleLikes=u}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".gallery__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".gallery__photo"),this._setEventListeners(),this._cardImage.src=this._image,this._cardImage.alt=this._text,this._element.querySelector(".gallery__text").textContent=this._text,this._renderLikes(),this._ownerId!==this._userId&&this._element.querySelector(".gallery__trash-button").remove(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".gallery__like-button").addEventListener("click",(function(){e._handleLikes(e._cardId)})),this._element.querySelector(".gallery__trash-button").addEventListener("click",(function(){return e._handleDeleteCard(e._cardId)})),this._cardImage.addEventListener("click",(function(t){return e._handleCardClick(t)}))}},{key:"isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"updateLikes",value:function(e){this._likes=e,this._renderLikes()}},{key:"_renderLikes",value:function(){this.isLiked()?this._element.querySelector(".gallery__like-button").classList.add("gallery__like-button_active"):this._element.querySelector(".gallery__like-button").classList.remove("gallery__like-button_active"),this._element.querySelector(".gallery__like-counter").textContent=this._likes.length}},{key:"deleteCard",value:function(){this._element.remove(),this._element=null}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialFormConfig=t,this._formElement=n,this._submitButton=this._formElement.querySelector(this._initialFormConfig.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._initialFormConfig.inputSelector))}var t,r;return t=e,(r=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._initialFormConfig.inputErrorClass),n.textContent=t,n.classList.add(this._initialFormConfig.errorMessageClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._initialFormConfig.inputErrorClass),t.classList.remove(this._initialFormConfig.errorMessageClass),t.textContent=""}},{key:"resetValidation",value:function(){var e=this;this._inputList.forEach((function(t){e._formElement.reset(),e._hideInputError(t)})),this._toggleSubmitButtonState()}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleSubmitButtonState",value:function(){this._hasInvalidInput()?(this._submitButton.disabled=!0,this._submitButton.classList.add(this._initialFormConfig.inactiveButtonClass)):(this._submitButton.disabled=!1,this._submitButton.classList.remove(this._initialFormConfig.inactiveButtonClass))}},{key:"_setFormEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleSubmitButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setFormEventListeners()}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){e.forEach(this._renderer)}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&o(t.prototype,n),e}(),a=document.forms.avatar,u=document.querySelector(".profile__edit-button"),c=document.forms.profile,s=c.elements.name,l=c.elements.about,f=(document.querySelector(".popup__photo"),document.querySelector(".popup__text"),document.querySelector(".profile__add-button")),p=document.forms.post,h=(document.querySelector(".gallery-post").content,{formSelector:".popup__form",inputSelector:".popup__form-input",submitButtonSelector:".popup__form-submit-button",inactiveButtonClass:"popup__form-submit-button_inactive",inputErrorClass:"popup__form-input_type_error",errorMessageClass:"popup__form-input-error_active"});function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this.open=this.open.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".popup__close-button").addEventListener("click",(function(){e.close()})),this._popupElement.addEventListener("click",(function(t){t.target.classList.contains("popup")&&e.close()}))}}])&&d(t.prototype,n),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},m(e,t,n||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"open",value:function(e,t){var n=this._popupElement.querySelector(".popup__photo"),r=this._popupElement.querySelector(".popup__text");n.src=e,r.textContent=t,m(k(a.prototype),"open",this).call(this)}}])&&v(t.prototype,n),a}(y);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},C(e,t,n||e)}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function O(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleSubmit=t,n._formElement=n._popupElement.querySelector(".popup__form"),n}return t=a,(n=[{key:"getInputValues",value:function(){var e=Array.from(this._formElement.querySelectorAll(".popup__form-input")),t={};return e.forEach((function(e){t[e.name]=e.value})),t}},{key:"renderSaving",value:function(e){this._formElement.querySelector(".popup__form-submit-button").textContent=e?"Saving...":"Save"}},{key:"setEventListeners",value:function(){var e=this;C(I(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(){e._handleSubmit(),e.close()}))}},{key:"close",value:function(){C(I(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&w(t.prototype,n),a}(y);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t){var n=t.name,r=t.about,o=t.avatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r),this._avatar=document.querySelector(o),this.setUserInfo=this.setUserInfo.bind(this)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={};return e.userName=this._name.textContent,e.userJob=this._about.textContent,e}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._about.textContent=e.about}},{key:"setAvatar",value:function(e){this._avatar.style.backgroundImage="url('".concat(e,"')")}}])&&P(t.prototype,n),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(e,t){return fetch(e,t).then((function(e){if(e.ok)return e.json();Promise.reject("ERROR: ".concat(e.statusText))}))},x=new(function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t,this._headers=n}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return T("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}},{key:"setUserAvatar",value:function(e){return T("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})})}},{key:"getInitialCards",value:function(){return T("".concat(this._baseUrl,"/cards"),{headers:this._headers})}},{key:"sendNewData",value:function(e){return T("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})})}},{key:"createNewCard",value:function(e){return T("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}},{key:"deleteCard",value:function(e){return T("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers})}},{key:"addLike",value:function(e){return T("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}},{key:"dislike",value:function(e){return T("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}}])&&R(t.prototype,n),e}())("https://around.nomoreparties.co/v1/group-12",{authorization:"12be1991-4f28-449f-a9a9-71d4704b25a2","Content-Type":"application/json"});function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},V(e,t,n||e)}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function F(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function a(){return B(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"setAction",value:function(e){this._handleSubmit=e}},{key:"setEventListeners",value:function(){var e=this;V(N(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleSubmit()}))}}])&&D(t.prototype,n),a}(j),M=new J(".popup_type_delete");M.setEventListeners();var H,z=new E(".popup_type_photo"),G=new i((function(e){var n;G.addItem((n=new t({data:e,user:H,cardSelector:".gallery-post",handleCardClick:function(e){e.preventDefault();var t=e.target,n=t.src,r=t.alt;z.open(n,r),z.setEventListeners()},handleDeleteCard:function(e){M.open(),M.setAction((function(){return x.deleteCard(e).then((function(e){n.deleteCard(),M.close()})).catch((function(e){return console.log(e)}))}))},handleLikes:function(e){n.isLiked()?x.dislike(e).then((function(e){n.updateLikes(e.likes)})).catch((function(e){return console.log(e)})):x.addLike(e).then((function(e){n.updateLikes(e.likes)})).catch((function(e){return console.log(e)}))}})).generateCard())}),".gallery__list"),K=new q({name:".profile__name",about:".profile__job-description",avatar:".profile__avatar-container"});x.getUserInfo().then((function(e){K.setUserInfo(e),H=e._id,K.setAvatar(e.avatar)})).catch((function(e){return console.log(e)})),x.getInitialCards().then((function(e){G.renderItems(e)})).catch((function(e){return console.log(e)}));var Q=new j(".popup_type_profile",(function(){Q.renderSaving(!0),x.sendNewData(Q.getInputValues()).then((function(e){K.setUserInfo(e)})).catch((function(e){return console.log(e)})).finally((function(){Q.renderSaving(!1)}))}));Q.setEventListeners(),u.addEventListener("click",(function(){W.resetValidation(),Q.open();var e=K.getUserInfo();s.value=e.userName,l.value=e.userJob}));var W=new r(h,c);W.enableValidation();var X=new j(".popup_type_post",(function(){X.renderSaving(!0),x.createNewCard(X.getInputValues()).then((function(e){G.renderItems([e])})).catch((function(e){return console.log(e)})).finally((function(){X.renderSaving(!1)}))}));X.setEventListeners(),f.addEventListener("click",(function(){Y.resetValidation(),X.open()}));var Y=new r(h,p);Y.enableValidation();var Z=new j(".popup_type_avatar",(function(){Z.renderSaving(!0),x.setUserAvatar(Z.getInputValues()).then((function(e){K.setAvatar(e.avatar)})).catch((function(e){return console.log(e)})).finally((function(){Z.renderSaving(!1)}))}));Z.setEventListeners(),document.querySelector(".profile__avatar-edit").addEventListener("click",(function(){$.resetValidation(),Z.open()}));var $=new r(h,a);$.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWN6RCxpQkFBaUIsU0FBUyxXQUN0Q3lKLEVBQW1CSixrQkFDbkJHLEVBQVl0RixVQUlkLElBQU11RixFQUFxQixJQUFJakosRUFBY0MsRUFBbUJpRCxHQUNoRStGLEVBQW1CRixtQkFHbkIsSUFBTUcsRUFBaUIsSUFBSTlFLEVBQWMsc0JBQXNCLFdBRzdEOEUsRUFBZVYsY0FBYSxHQUU1QnZDLEVBQUFBLGNBQ2lCaUQsRUFBZVIsa0JBRTdCaEQsTUFBSyxTQUFDQyxHQUNMdUMsRUFBY0UsVUFBVXpDLEVBQUlsRCxXQUU3QmlGLE9BQU0sU0FBQ0MsR0FBRCxPQUFTQyxRQUFRQyxJQUFJRixNQUMzQmdCLFNBQVEsV0FDUE8sRUFBZVYsY0FBYSxTQUtsQ1UsRUFBZWpDLG9CQUdmdEksU0FBU0MsY0FBYyx5QkFBeUJZLGlCQUFpQixTQUFTLFdBQ3hFMkosRUFBcUJOLGtCQUNyQkssRUFBZXhGLFVBSWpCLElBQU15RixFQUF1QixJQUFJbkosRUFBY0MsRUFBbUJzQyxHQUNsRTRHLEVBQXFCSixtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL0FQSS5qcyIsIndlYnBhY2s6Ly9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL2Fyb3VuZF90aGVfdXMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIGRhdGEsXHJcbiAgICB1c2VyLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCxcclxuICAgIGhhbmRsZUxpa2VzLFxyXG4gIH0pIHtcclxuICAgIHRoaXMuX3RleHQgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZSA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcjtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZXMgPSBoYW5kbGVMaWtlcztcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2l0ZW1cIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX3Bob3RvXCIpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5faW1hZ2U7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcclxuICBcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgICAvL1Nob3cgdHJhc2ggaWNvbiBvbmx5IGZvciB1c2VyJ3MgY2FyZDpcclxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX3RyYXNoLWJ1dHRvblwiKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vQ3JlYXRlIGV2ZW50IGxpc3RlbmVyIHRvIGxpa2UgYnV0dG9uIG9mIHRoZSBuZXcgcG9zdDpcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZXModGhpcy5fY2FyZElkKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGV2ZW50IGxpc3RlbmVyIHRvIHRyYXNoIGJ1dHRvbiBvZiB0aGUgbmV3IHBvc3Q6XHJcbiAgICB0aGlzLl9lbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX3RyYXNoLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZElkKSk7XHJcblxyXG4gICAgLy9DcmVhdGUgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGltYWdlIG9mIHRoZSBuZXcgcG9zdDpcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKGV2dClcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvL0NoZWNrIGlmIGNhcmQgaXMgbGlrZWQgYnkgdXNlcjpcclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHVzZXIpID0+IHVzZXIuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIGxpa2VzIHN0YXR1czpcclxuICB1cGRhdGVMaWtlcyhuZXdMaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyTGlrZXMoKSB7XHJcbiAgICBpZiAodGhpcy5pc0xpa2VkKCkpe1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuY2xhc3NMaXN0LmFkZChcImdhbGxlcnlfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeV9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgICB9XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlrZS1jb3VudGVyXCIpLnRleHRDb250ZW50ID1cclxuICAgICAgdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuICAvL0RlbGV0ZSBidXR0b24ncyBoYW5kbGVyOlxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihpbml0aWFsRm9ybUNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2luaXRpYWxGb3JtQ29uZmlnID0gaW5pdGlhbEZvcm1Db25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5faW5pdGlhbEZvcm1Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2luaXRpYWxGb3JtQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5pdGlhbEZvcm1Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luaXRpYWxGb3JtQ29uZmlnLmVycm9yTWVzc2FnZUNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luaXRpYWxGb3JtQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbml0aWFsRm9ybUNvbmZpZy5lcnJvck1lc3NhZ2VDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVTdWJtaXRCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcclxuICAgICAgICB0aGlzLl9pbml0aWFsRm9ybUNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbEZvcm1Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEZvcm1FdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEZvcm1FdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGRhdGEpIHtcclxuICAgIGRhdGEuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCIvL0VkaXQgYXZhdGFyIGZvcm0gY29uc3RhbnRzOlxyXG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXMuYXZhdGFyO1xyXG5cclxuLy8gRWRpdCBwcm9maWxlIHBvcHVwJ3MgY29uc3RhbnRzOlxyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtcy5wcm9maWxlO1xyXG5jb25zdCBmb3JtTmFtZUlucHV0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMubmFtZTtcclxuY29uc3QgZm9ybUpvYklucHV0ID0gcHJvZmlsZUZvcm0uZWxlbWVudHMuYWJvdXQ7XHJcblxyXG4vLyBGdWxsIHNpemVkIHBob3RvIHBvcHVwJ3MgY29uc3RhbnRzOlxyXG5jb25zdCBmdWxsU2NyZWVuUGhvdG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90b1wiKTtcclxuY29uc3QgcG9wdXBQaG90b0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGV4dFwiKTtcclxuXHJcbi8vIE5ldyBwb3N0IHBvcHVwJ3MgY29uc3RhbnRzOlxyXG5jb25zdCBhZGRQb3N0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBjcmVhdGVQb3N0Rm9ybSA9IGRvY3VtZW50LmZvcm1zLnBvc3Q7XHJcbmNvbnN0IGdhbGxlcnlUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeS1wb3N0XCIpLmNvbnRlbnQ7XHJcblxyXG5jb25zdCBpbml0aWFsRm9ybUNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2Zvcm0taW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm0tc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2Zvcm0tc3VibWl0LWJ1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9fZm9ybS1pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JNZXNzYWdlQ2xhc3M6IFwicG9wdXBfX2Zvcm0taW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIGVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgZm9ybU5hbWVJbnB1dCxcclxuICBmb3JtSm9iSW5wdXQsXHJcbiAgZnVsbFNjcmVlblBob3RvLFxyXG4gIHBvcHVwUGhvdG9EZXNjcmlwdGlvbixcclxuICBhZGRQb3N0QnV0dG9uLFxyXG4gIGNyZWF0ZVBvc3RGb3JtLFxyXG4gIGdhbGxlcnlUZW1wbGF0ZSxcclxuICBpbml0aWFsRm9ybUNvbmZpZyxcclxuICBhdmF0YXJGb3JtXHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vcGVuID0gdGhpcy5vcGVuLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICAvL0FsbG93IHVzZXIgdG8gY0xvc2UgcG9wdXBzIHZpYSBlc2NhcGUgYnV0dG9uOlxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICAvL0hpZGUgcG9wdXA6XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIC8vUmVtb3ZlIHRoZSBrZXlkb3duZCBcImVzY2FwZVwiIGV2ZW50IGxpc3RlbmVyOlxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvL0Nsb3NlIHBvcHVwIHdpdGggY2xvc2UgYnV0dG9uOlxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICAgIC8vQ2xvc2UgcG9wdXAgd2hlbiB1c2VyIGNsaWNrcyBvbiB0aGUgb3ZlcmxheTpcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGxpbmssIHRleHQpIHtcclxuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19waG90b1wiKTtcclxuICAgIGNvbnN0IGNhcHRpb25FbGVtZW50ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RleHRcIik7XHJcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gbGluaztcclxuICAgIGNhcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRIYW5kbGVyKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IHN1Ym1pdEhhbmRsZXI7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19mb3JtLWlucHV0XCIpXHJcbiAgICApO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuXHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgLy9VWC0gc2hvdyB3aGlsZSBzYXZpbmcgZGF0YTpcclxuICByZW5kZXJTYXZpbmcoaXNTYXZpbmcpIHtcclxuICAgIGlmIChpc1NhdmluZykge1xyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLnBvcHVwX19mb3JtLXN1Ym1pdC1idXR0b25cIlxyXG4gICAgICApLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIucG9wdXBfX2Zvcm0tc3VibWl0LWJ1dHRvblwiXHJcbiAgICAgICkudGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWUpO1xyXG4gICAgdGhpcy5fYWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0KTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyKTtcclxuICAgIHRoaXMuc2V0VXNlckluZm8gPSB0aGlzLnNldFVzZXJJbmZvLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IHVzZXJEZXRhaWxzID0ge307XHJcbiAgICB1c2VyRGV0YWlscy51c2VyTmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XHJcbiAgICB1c2VyRGV0YWlscy51c2VySm9iID0gdGhpcy5fYWJvdXQudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgcmV0dXJuIHVzZXJEZXRhaWxzO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICB9XHJcblxyXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX2F2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke2F2YXRhcn0nKWA7XHJcbiAgICB9XHJcbn1cclxuIiwiY29uc3QgZmV0Y2hDYWxsID0gKHVybCwgaGVhZGVycykgPT4ge1xyXG4gIHJldHVybiBmZXRjaCh1cmwsIGhlYWRlcnMpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgUHJvbWlzZS5yZWplY3QoYEVSUk9SOiAke3Jlcy5zdGF0dXNUZXh0fWApO1xyXG4gICAgfSlcclxufTtcclxuXHJcbmNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoYmFzZVVybCwgaGVhZGVycykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIC8vR2V0IHVzZXIgaW5mbyBmcm9tIHNlcnZlcjpcclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaENhbGwoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vVXBkYXRlIHVzZXIgYXZhdGFyOlxyXG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoQ2FsbChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgLy9OZXcgYXZhdGFyIGxpbms6XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmxpbmssXHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy9HZXQgaW5pdGlhbCBjYXJkcyBmcm9tIHNlcnZlcjpcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2hDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL1NlbmQgbmV3IHByb2ZpbGUgZGF0YSB0byBzZXJ2ZXI6XHJcbiAgc2VuZE5ld0RhdGEob2JqKSB7XHJcbiAgICByZXR1cm4gZmV0Y2hDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIC8vTmV3IHByb2ZpbGUgZGF0YTpcclxuICAgICAgICBuYW1lOiBvYmoubmFtZSxcclxuICAgICAgICBhYm91dDogb2JqLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy9BZGQgbmV3IGNhcmQ6XHJcbiAgY3JlYXRlTmV3Q2FyZChvYmopIHtcclxuICAgIHJldHVybiBmZXRjaENhbGwoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAvL05ldyBjYXJkIGRhdGE6XHJcbiAgICAgICAgbmFtZTogb2JqLm5hbWUsXHJcbiAgICAgICAgbGluazogb2JqLmxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL0RlbGV0ZSBjYXJkOlxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2hDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvL0FkZCBsaWtlIHRvIGNhcmQ6XHJcbiAgYWRkTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaENhbGwoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vUmVtb3ZlIGxpa2UgZnJvbSBjYXRkOlxyXG4gIGRpc2xpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2hDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaShcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIiwge1xyXG4gIGF1dGhvcml6YXRpb246IFwiMTJiZTE5OTEtNGYyOC00NDlmLWE5YTktNzFkNDcwNGIyNWEyXCIsXHJcbiAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbn0pO1xyXG4iLCJpbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cFdpdGhGb3JtIHtcclxuICBzZXRBY3Rpb24oYWN0aW9uKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgZm9ybU5hbWVJbnB1dCxcclxuICBmb3JtSm9iSW5wdXQsXHJcbiAgYWRkUG9zdEJ1dHRvbixcclxuICBjcmVhdGVQb3N0Rm9ybSxcclxuICBpbml0aWFsRm9ybUNvbmZpZyxcclxuICBhdmF0YXJGb3JtXHJcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BUEkuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoU3VibWl0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG4vL0RlbGV0ZSBjYXJkIHBvcHVwOlxyXG5jb25zdCBkZWxldGVDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xyXG4vL1NldCBldmVudCBsaXN0ZW5lcnM6XHJcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9Qb3B1cFdpdGhJbWFnZSBpbnN0YW5jZTpcclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX3Bob3RvXCIpO1xyXG5cclxuLy9DcmVhdGUgbmV3IGdhbGxlcnkgcG9zdDpcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgIGRhdGE6IGRhdGEsXHJcbiAgICB1c2VyOiB1c2VySWQsXHJcbiAgICBjYXJkU2VsZWN0b3I6IFwiLmdhbGxlcnktcG9zdFwiLFxyXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoZXZ0KSA9PiB7XHJcbiAgICAgIC8vT3BlbiBpbWFnZSBwb3B1cCdzIGhhbmRsZXI6XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xyXG4gICAgICBjb25zdCBsaW5rID0gdGFyZ2V0LnNyYztcclxuICAgICAgY29uc3QgbmFtZSA9IHRhcmdldC5hbHQ7XHJcbiAgICAgIGltYWdlUG9wdXAub3BlbihsaW5rLCBuYW1lKTtcclxuICAgICAgaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZURlbGV0ZUNhcmQ6IChjYXJkSWQpID0+IHtcclxuICAgICAgZGVsZXRlQ2FyZFBvcHVwLm9wZW4oKTtcclxuICAgICAgZGVsZXRlQ2FyZFBvcHVwLnNldEFjdGlvbigoKSA9PlxyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmRJZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcclxuICAgICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTGlrZXM6IChjYXJkSWQpID0+IHtcclxuICAgICAgY29uc3QgaXNMaWtlZCA9IGNhcmQuaXNMaWtlZCgpO1xyXG4gICAgICBpZiAoaXNMaWtlZCkge1xyXG4gICAgICAgIGFwaS5kaXNsaWtlKGNhcmRJZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGkuYWRkTGlrZShjYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgLy9DbG9uZSBub2RlIGZyb20gdGVtcGxhdGUgYW5kIGZpbGwgaXQgd2l0aCBwb3N0IGRldGFpbHM6XHJcbiAgY29uc3QgZ2FsbGVyeUVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBnYWxsZXJ5RWxlbWVudDtcclxufVxyXG5cclxuY29uc3QgZ2FsbGVyeVNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAvL0NyZWF0ZSB0aGUgbmV3IHBvc3QgYnkgaXR0ZXJhdGluZyBvdmVyIGEgbGlzdCBvZiBvYmplY3RzOlxyXG4gIChpdGVtKSA9PiB7XHJcbiAgICBnYWxsZXJ5U2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xyXG4gIH0sXHJcbiAgLy9TZWxlY3RvciBmb3IgdGhlIGNvbnRhaW5lciBpbiB3aGljaCB0aGUgcG9zdCB3aWxsIGJlIGFkZGVkOlxyXG4gIFwiLmdhbGxlcnlfX2xpc3RcIlxyXG4pO1xyXG5cclxuLy9Vc2VySW5mbyBpbnN0YW5jZTpcclxuY29uc3QgdXNlckluZm9DbGFzcyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZTogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGFib3V0OiBcIi5wcm9maWxlX19qb2ItZGVzY3JpcHRpb25cIixcclxuICBhdmF0YXI6IFwiLnByb2ZpbGVfX2F2YXRhci1jb250YWluZXJcIixcclxufSk7XHJcblxyXG4vL1N0b3JlIHVzZXIgSUQgZm9yIHZhcmlmeSBjYXJkIG93bmVyc2hpcDpcclxubGV0IHVzZXJJZDtcclxuXHJcbi8vU2V0IGluaXRpYWwgdXNlciBpbmZvOlxyXG5hcGkuZ2V0VXNlckluZm8oKS50aGVuKChyZXMpID0+IHtcclxuICB1c2VySW5mb0NsYXNzLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgdXNlcklkID0gcmVzLl9pZDtcclxuICB1c2VySW5mb0NsYXNzLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcclxufSlcclxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuLy9DcmVhdGUgaW5pdGlhbCBwb3N0czpcclxuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKHJlcykgPT4ge1xyXG4gIGdhbGxlcnlTZWN0aW9uLnJlbmRlckl0ZW1zKHJlcyk7XHJcbn0pXHJcbi5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbi8vIENyZWF0ZSBwcm9maWxlIGZvcm06XHJcbmNvbnN0IGVkaXRQcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiLCAoKSA9PiB7XHJcbiAgLy9TdWJtaXQgaGFuZGxlcjpcclxuICAvL1VYOlxyXG4gIGVkaXRQcm9maWxlRm9ybS5yZW5kZXJTYXZpbmcodHJ1ZSlcclxuICAvL01ha2UgZmV0Y2ggcmVxdWVzdDpcclxuICBhcGkuc2VuZE5ld0RhdGEoZWRpdFByb2ZpbGVGb3JtLmdldElucHV0VmFsdWVzKCkpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgLy9BcHBsYXkgdGhlIG5ldyBpbnB1dHMgdG8gdGhlIHByb2ZpbGU6XHJcbiAgICB1c2VySW5mb0NsYXNzLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAuZmluYWxseSgoKSA9PntcclxuICAgIGVkaXRQcm9maWxlRm9ybS5yZW5kZXJTYXZpbmcoZmFsc2UpXHJcbiAgfSlcclxufSk7XHJcblxyXG4vL3NldCBFdmVudCBsaXN0ZW5lcnMgZm9yIGVkaXQgcHJvZmlsZSBwb3B1cDpcclxuZWRpdFByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgLy9PcGVuIGZvcm06XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgLy9EaXNwbGF5IGN1cnJlbnQgcHJvZmlsZSBpbmZvcm1hdGlvbiBpbiBmb3JtIGZpZWxkczpcclxuICBjb25zdCBpbnB1dHMgPSB1c2VySW5mb0NsYXNzLmdldFVzZXJJbmZvKCk7XHJcbiAgZm9ybU5hbWVJbnB1dC52YWx1ZSA9IGlucHV0cy51c2VyTmFtZTtcclxuICBmb3JtSm9iSW5wdXQudmFsdWUgPSBpbnB1dHMudXNlckpvYjtcclxufSk7XHJcblxyXG4vL0FkZCBmb3JtIHZhbGlkYXRpb246XHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGluaXRpYWxGb3JtQ29uZmlnLCBwcm9maWxlRm9ybSk7XHJcbnByb2ZpbGVGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL0NyZWF0ZSBhZGQgcG9zdCBmb3JtOlxyXG5jb25zdCBhZGRQb3N0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfcG9zdFwiLCAoKSA9PiB7XHJcbiAgLy9TdWJtaXQgaGFuZGxlcjpcclxuICAvL1V4OlxyXG4gIGFkZFBvc3RGb3JtLnJlbmRlclNhdmluZyh0cnVlKVxyXG4gIC8vTWFrZSBmZXRjaCByZXF1ZXN0OlxyXG4gIGFwaVxyXG4gICAgLmNyZWF0ZU5ld0NhcmQoYWRkUG9zdEZvcm0uZ2V0SW5wdXRWYWx1ZXMoKSlcclxuICAgIC8vQXBwbGF5IHRoZSBuZXcgY2FyZCB0byB0aGUgcGFnZTpcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgZ2FsbGVyeVNlY3Rpb24ucmVuZGVySXRlbXMoW3Jlc10pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBhZGRQb3N0Rm9ybS5yZW5kZXJTYXZpbmcoZmFsc2UpXHJcbiAgICB9KVxyXG59KTtcclxuLy9TZXQgZXZlbnQgbGlzdGVuZXIgdG8gYWRkIHBvc3QgZm9ybTpcclxuYWRkUG9zdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYWRkUG9zdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvc3RGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRQb3N0Rm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy9BZGQgZm9ybSB2YWxpZGF0aW9uOlxyXG5jb25zdCBwb3N0Rm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihpbml0aWFsRm9ybUNvbmZpZywgY3JlYXRlUG9zdEZvcm0pO1xyXG5wb3N0Rm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9DcmVhdGUgdXBkYXRlIGF2YXRhciBmb3JtOlxyXG5jb25zdCBlZGl0QXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsICgpID0+IHtcclxuICAvL1N1Ym1pdCBoYW5kbGVyOlxyXG4gIC8vVVg6XHJcbiAgZWRpdEF2YXRhckZvcm0ucmVuZGVyU2F2aW5nKHRydWUpXHJcbiAgLy9NYWtlIGZldGNoIHJlcXVlc3Q6XHJcbiAgYXBpXHJcbiAgICAuc2V0VXNlckF2YXRhcihlZGl0QXZhdGFyRm9ybS5nZXRJbnB1dFZhbHVlcygpKVxyXG4gICAgLy9BcHBsYXkgdGhlIG5ldyBjYXJkIHRvIHRoZSBwYWdlOlxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mb0NsYXNzLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgZWRpdEF2YXRhckZvcm0ucmVuZGVyU2F2aW5nKGZhbHNlKVxyXG4gICAgfSlcclxufSk7XHJcblxyXG4vL1NldCBldmVudCBsaXN0ZW5lcnMgdG8gZWRpdCBhdmF0YXIgZm9ybTpcclxuZWRpdEF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vU2V0IGV2ZW50IGxpc3RlbmVyIHRvIGVkaXQgYXZhdGFyIGJ1dHRvbjpcclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItZWRpdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhckZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRBdmF0YXJGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG4vL0FkZCBmb3JtIHZhbGlkYXRpb246XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoaW5pdGlhbEZvcm1Db25maWcsIGF2YXRhckZvcm0pO1xyXG5hdmF0YXJGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsInVzZXIiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVEZWxldGVDYXJkIiwiaGFuZGxlTGlrZXMiLCJ0aGlzIiwiX3RleHQiLCJuYW1lIiwiX2ltYWdlIiwibGluayIsIl9jYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3VzZXJJZCIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVMaWtlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIl9yZW5kZXJMaWtlcyIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJzb21lIiwibmV3TGlrZXMiLCJpc0xpa2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwibGVuZ3RoIiwiRm9ybVZhbGlkYXRvciIsImluaXRpYWxGb3JtQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5pdGlhbEZvcm1Db25maWciLCJfZm9ybUVsZW1lbnQiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yTWVzc2FnZUNsYXNzIiwiZm9yRWFjaCIsInJlc2V0IiwiX2hpZGVJbnB1dEVycm9yIiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvblN0YXRlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRGb3JtRXZlbnRMaXN0ZW5lcnMiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsImF2YXRhckZvcm0iLCJmb3JtcyIsImF2YXRhciIsImVkaXRCdXR0b24iLCJwcm9maWxlRm9ybSIsInByb2ZpbGUiLCJmb3JtTmFtZUlucHV0IiwiZWxlbWVudHMiLCJmb3JtSm9iSW5wdXQiLCJhYm91dCIsImFkZFBvc3RCdXR0b24iLCJjcmVhdGVQb3N0Rm9ybSIsInBvc3QiLCJmb3JtU2VsZWN0b3IiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJrZXkiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwidGV4dCIsImltYWdlRWxlbWVudCIsImNhcHRpb25FbGVtZW50IiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEhhbmRsZXIiLCJfaGFuZGxlU3VibWl0IiwiaW5wdXRMaXN0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiaXNTYXZpbmciLCJVc2VySW5mbyIsIl9uYW1lIiwiX2Fib3V0IiwiX2F2YXRhciIsInNldFVzZXJJbmZvIiwidXNlckRldGFpbHMiLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImZldGNoQ2FsbCIsInVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImFwaSIsIkFwaSIsImJhc2VVcmwiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvYmoiLCJjYXJkSWQiLCJhdXRob3JpemF0aW9uIiwiUG9wdXBXaXRoU3VibWl0IiwiYWN0aW9uIiwiZSIsImRlbGV0ZUNhcmRQb3B1cCIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlcklkIiwiaW1hZ2VQb3B1cCIsImdhbGxlcnlTZWN0aW9uIiwiaXRlbSIsImNhcmQiLCJhZGRJdGVtIiwic2V0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImRpc2xpa2UiLCJ1cGRhdGVMaWtlcyIsImFkZExpa2UiLCJnZW5lcmF0ZUNhcmQiLCJ1c2VySW5mb0NsYXNzIiwiZ2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJyZW5kZXJJdGVtcyIsImVkaXRQcm9maWxlRm9ybSIsInJlbmRlclNhdmluZyIsInNlbmROZXdEYXRhIiwiZ2V0SW5wdXRWYWx1ZXMiLCJmaW5hbGx5IiwicHJvZmlsZUZvcm1WYWxpZGF0aW9uIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXRzIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFkZFBvc3RGb3JtIiwicG9zdEZvcm1WYWxpZGF0aW9uIiwiZWRpdEF2YXRhckZvcm0iLCJhdmF0YXJGb3JtVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=